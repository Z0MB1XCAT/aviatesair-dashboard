<!DOCTYPE html>
<html>
<head>
  <title>AviatesAir Login</title>
  <style>
    body { font-family: Arial; background:#f5f5f5; padding:40px }
    .box { max-width:400px; margin:auto; background:#fff; padding:30px; border-radius:10px }
    input,button { width:100%; padding:10px; margin-top:10px }
    button { background:#0b1f3a; color:#fff; border:none }
  </style>
</head>
<body>
  <div class="box">
    <h2>Pilot Login</h2>
    <input id="email" placeholder="Email">
    <input id="password" type="password" placeholder="Password">
    <button onclick="login()">Login</button>
    <p id="msg"></p>
  </div>

<script>
const API = "https://aviatesair-signup.dexterhsrees.workers.dev"

async function login() {
  const r = await fetch(API + "/login", {
    method:"POST",
    headers:{ "Content-Type":"application/json" },
    body:JSON.stringify({
      email: email.value,
      password: password.value
    })
  })

  const d = await r.json()
  if (d.session) {
    localStorage.setItem("session", d.session)
    msg.innerText = "Login OK. ACARS Key: " + d.acarsKey
  } else {
    msg.innerText = d.error
  }
}
</script>
</body>
</html>
